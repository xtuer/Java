(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{5065:function(e,t,i){},"70d0":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("FileUpload",{attrs:{button:""}})],1)},a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-upload"},[e.button?i("Button",{attrs:{type:"primary",icon:"ios-cloud-upload-outline"},on:{click:e.show}},[e._t("default",[e._v("上传文件")])],2):e._e(),i("Modal",{staticClass:"file-upload-modal",attrs:{"mask-closable":!1,styles:{top:"60px",marginBottom:"40px"},"ok-text":"确定",title:"上传文件"},on:{"on-ok":e.finishUpload},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[i("Upload",{ref:"upload",attrs:{action:e.uploadUrl,"before-upload":e.beforeUpload,"on-success":e.onSuccess,"on-error":e.onError,"on-format-error":e.onFormatError,"on-exceeded-size":e.onExceededSize,"on-remove":e.onRemove,"max-size":e.maxSizeInKB,multiple:e.multiple,accept:e.accept,format:e.format,"with-credentials":"",type:"drag"}},[i("div",{staticStyle:{padding:"60px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),i("p",[e._v("点击或者拖拽文件到此上传")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.uploadedImages.length,expression:"uploadedImages.length"}],staticClass:"preview-images"},e._l(e.uploadedImages,(function(e,t){return i("div",{key:t,staticClass:"preview",style:{backgroundImage:"url("+e.url+")"},attrs:{title:e.filename}})})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.uploadedFiles.length,expression:"uploadedFiles.length"}],staticClass:"separator"}),i("div",{staticClass:"description"},[i("strong",[e._v("文件大小不超过 "+e._s(e.maxSizeInKB/1024)+"MB，格式:")]),i("div",{staticStyle:{padding:"5px 0"}},[e.doc?i("div",[e._v("文档：PPT (ppt，pptx)、Word (doc，docx)、Excel (xls,xlsx)、PDF")]):e._e(),e.file||!e.accept?i("div",[e._v("文件：zip, rar, 7z, png, jpg, gif, mp3, mp4, pdf, doc, docx, ppt, pptx, xls, xlsx 等任意格式")]):e._e(),e.image?i("div",[e._v("图片：png, jpg, gif")]):e._e(),e.video?i("div",[e._v("视频：mp4、avi、flv、swf、wmv、mov、3gp、mpg、rmvb、mkv")]):e._e(),e.audio?i("div",[e._v("音频：mp3")]):e._e(),e.excel?i("div",[e._v("表格：Excel (xls, xlsx)")]):e._e()])]),i("Alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{type:"warning","show-icon":""}},[e._v(e._s(e.error))])],1)],1)},l=[],n=(i("7f7f"),i("75fc")),r={defaultMaxSize:100,imageMaxSize:10,fileMaxSize:100,BMapAk:"By5uc80cGiGYzgc0XUHGyDCoAGsiIi0x",aliMojiAppCode:"798d7d1cafaf4ffeb4a5c302d2ef02ec"},p={props:{doc:{type:Boolean,default:!1},file:{type:Boolean,default:!1},image:{type:Boolean,default:!1},video:{type:Boolean,default:!1},audio:{type:Boolean,default:!1},excel:{type:Boolean,default:!1},button:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},data:function(){return{modalVisible:!1,error:null,upload:null,uploadUrl:Urls.FORM_UPLOAD_TEMPORARY_FILE,docs:["ppt","pptx","doc","docx","xls","xlsx","pdf"],excels:["xls","xlsx"],images:["jpg","jpeg","gif","png","bmp"],videos:["mp4","avi","flv","swf","wmv","mov","3gp","mpg","rmvb","mkv"],audios:["mp3"]}},mounted:function(){this.upload=this.$refs.upload},computed:{maxSizeInKB:function(){return this.file?1024*r.fileMaxSize:this.image?1024*r.imageMaxSize:1024*r.defaultMaxSize},accept:function(){var e,t,i,o,a,s=[];return this.doc&&(e=s).push.apply(e,Object(n["a"])(this.docs.map((function(e){return"."+e})))),this.excel&&(t=s).push.apply(t,Object(n["a"])(this.excels.map((function(e){return"."+e})))),this.image&&(i=s).push.apply(i,Object(n["a"])(this.images.map((function(e){return"."+e})))),this.video&&(o=s).push.apply(o,Object(n["a"])(this.videos.map((function(e){return"."+e})))),this.audio&&(a=s).push.apply(a,Object(n["a"])(this.audios.map((function(e){return"."+e})))),s=this.file?[]:s,s.join(",")},format:function(){var e,t,i,o,a,s=[];return this.doc&&(e=s).push.apply(e,Object(n["a"])(this.docs)),this.excel&&(t=s).push.apply(t,Object(n["a"])(this.excels)),this.image&&(i=s).push.apply(i,Object(n["a"])(this.images)),this.video&&(o=s).push.apply(o,Object(n["a"])(this.videos)),this.audio&&(a=s).push.apply(a,Object(n["a"])(this.audios)),s=this.file?[]:s,s},uploadedFiles:function(){return this.upload?this.upload.fileList.filter((function(e){return"finished"===e.status})).map((function(e){return e.response.data})):[]},uploadedImages:function(){return this.uploadedFiles.filter((function(e){return Utils.isImage(e.filename)}))}},methods:{show:function(){this.clearFiles(),this.modalVisible=!0},clearFiles:function(){this.upload.clearFiles()},finishUpload:function(){0!==this.uploadedFiles.length&&(this.multiple?this.$emit("on-success",this.uploadedFiles):this.$emit("on-success",this.uploadedFiles[0]))},beforeUpload:function(){return this.hideError(),this.multiple||this.clearFiles(),!0},onSuccess:function(e,t,i){e.success||(console.warn(e.data),this.showError("上传失败，详细错误信息请查看控制台输出"))},onExceededSize:function(e){this.showError("文件 ".concat(e.name," 的大小超过 ").concat(this.maxSizeInKB/1024,"MB"))},onError:function(e,t,i,o){this.showError("上传失败")},onFormatError:function(){this.showError("文件格式不支持")},onRemove:function(e,t){},hideError:function(){this.error=null},showError:function(e){this.error=e}}},u=p,c=(i("871d"),i("2877")),d=Object(c["a"])(u,s,l,!1,null,null,null),f=d.exports,h={components:{FileUpload:f},data:function(){return{}}},m=h,v=Object(c["a"])(m,o,a,!1,null,null,null);t["default"]=v.exports},"871d":function(e,t,i){"use strict";var o=i("5065"),a=i.n(o);a.a}}]);