## 创建 Bean

使用 lombok 生成 Getter，Setter，在 Getter，Setter 很多时尤为重要，例如

```java
package com.xtuer.bean;

import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
public class Demo {
    private int id;
    private String info;

    public Demo() {
    }

    public Demo(int id, String info) {
        this.id = id;
        this.info = info;
    }
}
```

使用方法参考 <http://qtdebug.com/java-lombok/>

## 使用 REST 风格的 URL

RESTful 风格获取资源的 URL 格式，变量名以 `REST_` 开头，URL 以 `/rest` 开头，资源都用 `复数` 形式方便式统一管理 URL。例如下面对资源 topic 和 question 访问的 URL:

```java
String REST_TOPICS         = "/rest/topics";
String REST_TOPICS_WITH_ID = "/rest/topics/{topicId}";
String REST_QUESTIONS      = "/rest/topics/{topicId}/questions";
```

## AJAX 响应的 JSON 数据

Controller 中返回 Result 对象即可，SpringMVC 会使用 FastJson 自动把对象转换为 JSON 格式的数据，如

```java
@RequestMapping(UriView.URI_DEMO_MYBATIS)
@ResponseBody
public Result<Demo> queryDemoFromDatabase(@PathVariable int id) {
    return Result.ok("", demoMapper.findDemoById(id));
}

@PutMapping("/rest")
@ResponseBody
public Result handlePut(@RequestBody Map map) {
    return new Result(true, "UPDATE handled", map);
}
```

> Result 对象的构造参考 `com.xtuer.bean.Result` 的源码。

响应的 AJAX 数据格式为:

```json
{
    "data": {
        "id": 1,
        "info": "Biao"
    },
    "message": "",
    "success": true
}
```