<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--namespace 非常重要：必须是 Mapper 类的全路径-->
<mapper namespace="com.xtuer.mapper.KnowledgePointGroupMapper">
    <select id="findAllKnowledgePointGroups" resultType="KnowledgePointGroup">
        SELECT knowledge_point_group_id AS knowledgePointGroupId, name
        FROM knowledge_point_group WHERE is_deleted=0
        ORDER BY name
    </select>

    <insert id="createKnowledgePointGroup" parameterType="KnowledgePointGroup" useGeneratedKeys="true" keyProperty="knowledgePointGroupId">
        INSERT INTO knowledge_point_group(name, is_deleted) VALUES(#{name}, 0)
    </insert>

    <update id="updateKnowledgePointGroup" parameterType="KnowledgePointGroup">
        UPDATE knowledge_point_group SET name=#{name} WHERE knowledge_point_group_id=#{knowledgePointGroupId}
    </update>

    <update id="markKnowledgePointGroupAsDeleted" parameterType="long">
        UPDATE knowledge_point_group SET is_deleted=1 WHERE knowledge_point_group_id=#{knowledgePointGroupId}
    </update>
</mapper>
