group 'com.xtuer'
version '1.0'

apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'war'
apply plugin: 'org.akhikhl.gretty'

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'org.akhikhl.gretty:gretty:1.2.4'
    }
}

gretty {
    port = 80
    contextPath = ''
    servletContainer = 'tomcat7'
}

tasks.withType(JavaCompile) {
    sourceCompatibility = '1.7'
    targetCompatibility = '1.7'
}

[compileJava, compileTestJava, javadoc]*.options*.encoding = 'UTF-8'

////////////////////////////////////////////////////////////////////////////////
//                                   Maven 依赖                               //
////////////////////////////////////////////////////////////////////////////////
repositories {
    mavenLocal()
    mavenCentral()
}

ext {
    springVersion   = '4.1.1.RELEASE'
    servletVersion  = '3.1.0'
    jstlVersion     = '1.2'
    jacksonVersion  = '2.5.3'
    freemarkerVersion = '2.3.20'
}

dependencies {
    compile(
            "javax.servlet:jstl:$jstlVersion",                              // JSTL
            "org.springframework:spring-webmvc:$springVersion",             // Spring MVC
            "org.springframework:spring-context-support:$springVersion",
            "com.fasterxml.jackson.core:jackson-databind:$jacksonVersion",  // JSON
            "org.freemarker:freemarker:$freemarkerVersion"                  // Freemarker
    )

    compileOnly("javax.servlet:javax.servlet-api:$servletVersion")
}
